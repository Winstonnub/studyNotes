# Chapter 2: Classes in Java

## Chapter 2: Classes in Java

### 2.1 and 2.2 Classes and variables

- instance variables: come into existence when instance is constructed
- class variables: static variables, all instance of class share a single instance of each class variable

### 2.3 Visibility and Access Modifiers

- public: all class can use
- private: only that class can access
- protected: accessible in same package, OR subclasses in other packages

### 2.4 Construtors

- similar to **init** in python
- Methods with no return type, and gets called to create the instance of a new object
- Instead of using ‘self’ in py, we use ‘this’ in java.
- You can call constructor and overload the constructor!

```java
public Something(String name, int size) {
    this.name = name;
    this.size = size;
}

public Something(String name) {
    this(name, 1);
}
```

### 2.4.1 Object Creation Order

1. Allocate memory for object
2. Initialise instance variables to default values (e.g. 0 for arrays)
3. Direct initalization executed in order they appear in class (e.g. int x=5)
4. Constructor called (may further modify instance variables)
    1. super(), the parent constructor is called first (if the class extends another class)

### 2.5 Overloading methods

- Defining multiple constructors with different parameters

```java
public int my_method(int something, int something_else){
    return something + something_else;
}

public int my_method(int something){
    return my_method(something, 1);
}
```

### 2.6 Overriding methods

1. toString method: Java equivalent of **str in python,** giving string representation of our object.

```java
@Override
public String toString(){
		return "My name is " + this.name;
} // Override for custom message. This method is in every object.
```

1. equals
    - Identity equality we use “==”
    - Value equality we use “equals” (but for object, default is still identity equality and we need to override it to give it a logic on how to say it is equal!)
        1. Symmetry: a.equals(b) iff b.equals(a)
        2. Reflexivity: a.equals(a) must true
        3. Transitivity: a.equals(b) and b.equals(c) → a.equals(c)
2. hashCode
- often want to override hashCode when override equals method
- Equal objects, must have same hash code.
- But same hashCode doesn’t mean 100% equal objects.
- hashCode generated by Object is random, so we might wanna override it.

### 2.7 Static (class) methods

- Associated with the class, NOT the instance!
- we call it by prefixing it with the class name.

```java
public static int population(){
		return MyClass.count()
}
```

### 2.8 keyword `final`

- cannot be reassigned after initialization (like constant!)
- if refers to a reference object, the reference cannot be changed, but the object it points to can still be mutated.

```java
final int MAX_SIZE = 100

final List<String> names = new ArrayList<>()
names.add("Alice"); // ALLOWED: modifying object
names = new ArrayList<>(); // NOT ALLOWED: reassignment
```